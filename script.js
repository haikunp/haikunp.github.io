// Card data (same as original)
const cardData = {
  casinos: [
    { 
      title: "XYES", 
      subtitle: "Sportsbook & casino", 
      rating: 4.9, 
      features: ["Huge bonus", "Best sports betting odds", "No enforced KYC"], 
      bonus: "38 Crypto supported",
      image: "img/xyes.svg",
      link: "https://xyes.com/referrals/6kwcy" 
    },
    { 
      title: "Bethog", 
      subtitle: "Sportsbook & casino", 
      rating: 4.8, 
      features: ["Huge bonus", "High sports betting odds", "100+ cryptos"], 
      bonus: "9 Crypto supported",
      image: "img/bethog.svg",
      link: "play.bethog.com/deposit-match?referral=cryptohama/" 
    },
    { 
      title: "1win", 
      subtitle: "Sportsbook & casino", 
      rating: 4.7, 
      features: ["Largest expanding casino", "Large collection of games", "Supports wallets from every country"], 
      bonus: "Crypto, Local wallets, Cards",
      image: "img/1win.svg",
      link: "https://1wzyuh.com/?p=fvfs" 
    },
    { 
      title: "Stake", 
      subtitle: "Sportsbook & casino", 
      rating: 4.5, 
      features: ["Most Popular Crypto Casino", "Outstanding support", "ID verification compulsory"], 
      bonus: "20+ Crypto Supported",
      image: "img/stake.jpg",
      link: "stake.games/?c=enter" 
    }
  ],
  exchanges: [
    { 
      title: "Pionex", 
      subtitle: "Largest Bot Trading Exchange", 
      rating: 4.9, 
      features: ["Free bots", "AI and custom stratigies", "Copy Trade"], 
      bonus: "Frequent bonuses",
      image: "img/pio.ico",
      link: "https://www.pionex.com/en/signUp?r=0p9WWKppAvt" 
    },
    { 
      title: "Binance", 
      subtitle: "Largest exchange", 
      rating: 4.8, 
      features: ["600+ coins", "Lowest fees", "Staking"], 
      bonus: "Most Trusted",
      image: "img/binance.png",
      link: "https://www.binance.com/referral/earn-together/refertoearn2000usdc/claim?hl=en&ref=GRO_14352_39B7D" 
    },
    { 
      title: "Bitget", 
      subtitle: "Fastest Growing Exchange", 
      rating: 4.7, 
      features: ["Cheap fees", "Airdrops", "Many Earning options"], 
      bonus: "Many ICO and airdrpos",
      image: "img/bitget.png",
      link: "https://www.bitgetapps.com/referral/register?clacCode=REUS59B0&from=%2Fevents%2Freferral-all-program&source=events&utmSource=PremierInviter" 
    }
  ],
  faucets: [
    { 
      title: "Viefaucet", 
      subtitle: "Instant withdrawal. No minumum.", 
      rating: 4.9, 
      features: ["Highest Paying faucet", "High paying shortlink", "High paying PTC"], 
      bonus: "$0.00065+ every 4 mins",
      image: "img/vie.ico",
      link: "https://viefaucet.com?r=61e83d585cc8356fa4bda9a9/" 
    },
    { 
      title: "Coinymate", 
      subtitle: "Instant withdrawal. $0.005", 
      rating: 4.9, 
      features: ["High Paying faucet", "New and Fresh design", "Multiple ways to earn"], 
      bonus: "$0.00055+ every 4 mins",
      image: "img/mate.ico",
      link: " https://coinymate.com/?r=19992" 
    },
    { 
      title: "Earnbitmoon", 
      subtitle: "Instant withdrawal. $0.2", 
      rating: 4.8, 
      features: ["High paying faucet", "High paying Offerwalls", "Higher multiplier as you level up"], 
      bonus: "$0.0005+ every 5 mins",
      image: "img/ebm.gif",
      link: "https://earnbitmoon.club/?ref=145452/" 
    },
    { 
      title: "Feyorra.top", 
      subtitle: "Instant Witdrawal. $0.001", 
      rating: 4.7, 
      features: ["High paying faucet", "Shortlinks", "PTCs"], 
      bonus: "$0.0004 every 4 mins",
      image: "img/fey.ico",
      link: "https://feyorra.top/?r=180567/" 
    },
    { 
      title: "Adbtc", 
      subtitle: "500 satoshi to Faucetpay", 
      rating: 4.6, 
      features: ["Best PTC", "High earning", "Low effort"], 
      bonus: "1+ satoshi each ads",
      image: "img/adbtc.png",
      link: "https://r.adbtc.top/7297" 
    },
    { 
      title: "Final Autoclaim", 
      subtitle: "Instant withdrawal $0.05 to Faucetpay", 
      rating: 4.4, 
      features: ["One of the oldest", "85+ coins", "Multiple ways to earn"], 
      bonus: "$0.001x2 every 30 mins",
      image: "img/dutchy.png",
      link: "https://autofaucet.dutchycorp.space/?r=tsaroz" 
    },
    { 
      title: "Hatecoin", 
      subtitle: "Instant withdrawal $0.01 to Faucetpay", 
      rating: 4.2, 
      features: ["High paying faucet", "Offerwalls", "PTCs and Leaderboard rewards"], 
      bonus: "$0.00075 every 5 mins",
      image: "img/hate.ico",
      link: "https://hatecoin.me/?r=52066" 
    },
    { 
      title: "Banfaucet", 
      subtitle: "Instant withdrawal $0.01 to Faucetpay", 
      rating: 4.2, 
      features: ["High paying faucet", "Multiple coins", "Multiple ways to earn"], 
      bonus: "$0.0004 every 3 mins",
      image: "img/ban.ico",
      link: "https://banfaucet.com/?r=11036" 
    },
    { 
      title: "Coinpayu", 
      subtitle: "$0.05 to Faucetpay", 
      rating: 4.2, 
      features: ["High paying PTC", "Earn more in short time", "Many coins"], 
      bonus: "Multiple PTC over $0.001",
      image: "img/payu.ico",
      link: "https://www.coinpayu.com/?r=tsaroz" 
    }
  ],
  games: [
    { 
      title: "1win Token", 
      subtitle: "Play-to-earn game", 
      rating: 4.8, 
      features: ["Play and get token of established casino", "Focus of Business and Buildings", "Open every 3 hours"], 
      bonus: "Token would have good value",
      image: "img/1win.jpg",
      link: "http://t.me/token1win_bot/start?startapp=refId5861629159" 
    }
  ]
};

// Generate star ratings
function generateStars(rating) {
  const fullStars = Math.floor(rating);
  const halfStar = rating % 1 >= 0.5;
  
  return '★'.repeat(fullStars) + (halfStar ? '½' : '');
}

// Generate cards for a specific category
function generateCardsForCategory(category) {
  const container = document.querySelector('.card-grid');
  if (!container || !cardData[category]) return;
  
  const fragment = document.createDocumentFragment();
  
  cardData[category].forEach((item, index) => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      <div class="rank-badge">${index + 1}</div>
      <div class="card-header">
        <div class="card-icon">
          <img src="${item.image}" alt="${item.title} logo">
        </div>
        <div>
          <h3 class="card-title">${item.title}</h3>
          <p class="card-subtitle">${item.subtitle}</p>
        </div>
      </div>
      <div class="card-rating">
        <div class="stars">${generateStars(item.rating)}</div>
        <div class="rating-value">${item.rating}/5</div>
      </div>
      <ul class="card-features">
        ${item.features.map(feature => `<li>${feature}</li>`).join('')}
      </ul>
      <div class="card-footer">
        <div class="bonus-badge">${item.bonus}</div>
        <a href="${item.link}" class="visit-button" 
           aria-label="Visit ${item.title}"
           target="_blank" rel="noopener noreferrer">
          <i class="fas fa-external-link-alt" aria-hidden="true"></i> Visit
        </a>
      </div>
    `;
    fragment.appendChild(card);
  });
  
  container.innerHTML = '';
  container.appendChild(fragment);
}

// Set active navigation state
function setActiveNav() {
  const currentPage = window.location.pathname.split('/').pop().split('.')[0];
  const navLinks = document.querySelectorAll('.tab-button');
  
  navLinks.forEach(link => {
    const linkPage = link.getAttribute('href').split('/').pop().split('.')[0];
    if (linkPage === currentPage) {
      link.classList.add('active');
    }
  });
}

// Initialize page
document.addEventListener('DOMContentLoaded', function() {
  const currentPage = window.location.pathname.split('/').pop().split('.')[0];
  
  // Set active navigation state
  if (['casinos', 'exchanges', 'faucets', 'games'].includes(currentPage)) {
    setActiveNav();
    generateCardsForCategory(currentPage);
  }
  
  // Add home page functionality
  if (currentPage === 'index' || currentPage === '') {
    // Add any home page specific JS here
  }
});
